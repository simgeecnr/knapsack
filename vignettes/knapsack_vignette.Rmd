---
title: "Knapsack Vignette"
author: "Simge Cinar & Hugo Morvan"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Knapsack Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Loading the necessary library
```{r}
library(knapsack)
```

Generating the data
```{r}
RNGversion(min(as.character(getRversion()),"3.5.3"))
set.seed(42, kind = "Mersenne-Twister", normal.kind = "Inversion")
n <- 2000
knapsack_objects <-
  data.frame(
    w=sample(1:4000, size = n, replace = TRUE),
    v=runif(n = n, 0, 10000)
  )
```

# BRUTE FORCE SEARCH

The run time for brute force search algorithm is 4.23 seconds with n = 16.

```{r}
x <- knapsack_objects[1:16,]
W <- 3500
```

```{r}
start_time <- Sys.time()
result <- brute_force_knapsack(x,W)
end_time <- Sys.time()
runtime <- end_time - start_time
cat("Runtime:", runtime, "seconds\n")
result
```

# DYNAMMIC PROGRAMMING

The run time for dynammic programming is 36.50 seconds with n = 500.

```{r}
x <- knapsack_objects[1:500,]
W <- 3500
```

```{r}
start_time <- Sys.time()
result <- knapsack_dynamic(x, W)
end_time <- Sys.time()
runtime <- end_time - start_time
cat("Runtime without rcpp:", runtime, "seconds\n")
result
```
Using rcpp package executed the code faster and the runtime decreased from 36.50 seconds to 5.92 seconds.

```{r}
start_time <- Sys.time()
result <- knapsack_dynamic(x, W, TRUE)
end_time <- Sys.time()
runtime <- end_time - start_time
cat("Runtime with rcpp:", runtime, "seconds\n")
result
```

# GREEDY HEURISTIC

The run time for greedy heuristics is 0.35 seconds with n = 1,000,000. This algorithm is really fast but it does not guarantee optimality unlike dynammic prgramming and brute force search algorithm

```{r}
x <- knapsack_objects[1:1000000,]
W <- 3500
```

```{r}
start_time <- Sys.time()
result <- greedy_knapsack(x,W)
end_time <- Sys.time()
runtime <- end_time - start_time
cat("Runtime:", runtime, "seconds\n")
result
```




